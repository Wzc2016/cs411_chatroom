{"ast":null,"code":"import _regeneratorRuntime from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Profile/Profile.jsx\";\nimport React, { Component } from 'react';\nimport { Navbar, Nav } from 'react-bootstrap';\nimport NavBar from '../NavBar.jsx';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile() {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this));\n    _this.state = {\n      queryList: [],\n      list: [],\n      userId: ''\n    }; // this.onloadHandler = this.onloadHandler.\n\n    _this.baseUrl = 'http://localhost:8000/userid/';\n    _this.renderAgain = _this.renderAgain.bind(_assertThisInitialized(_this));\n    var userId = window.sessionStorage.getItem('userId');\n    axios.get(_this.baseUrl + userId).then(function (response) {\n      console.log(response);\n\n      _this.setState({\n        list: response.data[0].movie_list.split(',')\n      });\n\n      var axiosList = response.data[0].movie_list.split(',').map(\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(mid) {\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  return _context.abrupt(\"return\", axios.get(\"http://localhost:8000/search/movieid/\" + mid).then(function (res) {\n                    var i = React.createElement(\"li\", {\n                      __source: {\n                        fileName: _jsxFileName,\n                        lineNumber: 30\n                      },\n                      __self: this\n                    }, \"res.data[0].title\");\n\n                    _this.setState({\n                      list: [].concat(_toConsumableArray(_this.state.list), [i])\n                    });\n                  }));\n\n                case 1:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    });\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"renderAgain\",\n    value: function renderAgain() {\n      var _this2 = this;\n\n      axios.get(this.baseUrl + this.state.userId).then(function (response) {\n        _this2.setState({\n          queryList: response.movie_list\n        });\n      });\n\n      if (!this.state.queryList) {\n        this.setState({\n          list: this.state.queryList.split(',')\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"w-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        bg: \"light\",\n        expand: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"btn-group-vertical\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/recommend\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Recommend\")), React.createElement(\"a\", {\n        href: \"http://localhost:3300\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Chat Room\"))), React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \"Wish List\"), this.state.list));\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport { Profile as default };","map":{"version":3,"sources":["/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Profile/Profile.jsx"],"names":["React","Component","Navbar","Nav","NavBar","Link","axios","Profile","state","queryList","list","userId","baseUrl","renderAgain","bind","window","sessionStorage","getItem","get","then","response","console","log","setState","data","movie_list","split","axiosList","map","mid","res","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {Navbar, Nav} from 'react-bootstrap';\r\nimport NavBar from '../NavBar.jsx';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\n\r\nexport default class Profile extends Component {\r\n  constructor() {\r\n  super();\r\n\r\n  this.state = {\r\n    queryList: [],\r\n    list: [],\r\n    userId: ''\r\n  };\r\n  // this.onloadHandler = this.onloadHandler.\r\n  this.baseUrl = 'http://localhost:8000/userid/';\r\n  this.renderAgain = this.renderAgain.bind(this);\r\n  let userId = window.sessionStorage.getItem('userId');\r\n\r\n  axios.get(this.baseUrl + userId).then((response) => {\r\n    console.log(response)\r\n    this.setState({\r\n      list: response.data[0].movie_list.split(',')\r\n    })\r\n    var axiosList = response.data[0].movie_list.split(',').map(async (mid) => {\r\n      return axios.get(\"http://localhost:8000/search/movieid/\" + mid).then((res) => {\r\n        var i = (\r\n          <li>\r\n            res.data[0].title\r\n          </li>\r\n          )\r\n        this.setState({\r\n          list: [...this.state.list, i]\r\n        })\r\n      })\r\n    })\r\n\r\n  })\r\n\r\n  \r\n  }\r\n\r\n  renderAgain() {\r\n    axios.get(this.baseUrl + this.state.userId).then((response) => {\r\n    this.setState({\r\n      queryList: response.movie_list\r\n    });\r\n    })\r\n    if(!this.state.queryList) {\r\n      this.setState({\r\n        list: this.state.queryList.split(',')\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n\r\n\r\n\r\n    return (\r\n      <div className=\"w-100\">\r\n      <Navbar bg=\"light\" expand=\"lg\">\r\n        <NavBar />\r\n      </Navbar>\r\n      <div className=\"btn-group-vertical\">\r\n        <Link to=\"/recommend\">\r\n          <button type=\"button\" className=\"btn btn-secondary\">\r\n              Recommend\r\n          </button>\r\n        </Link>\r\n        <a href=\"http://localhost:3300\">\r\n          <button type=\"button\" className=\"btn btn-secondary\">\r\n              Chat Room\r\n          </button>\r\n        </a>\r\n      </div>\r\n      <div className=\"container-fluid\">\r\n        <h3 className=\"text-center\">Wish List</h3>\r\n          {this.state.list}\r\n      </div>\r\n    </div>\r\n\r\n\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
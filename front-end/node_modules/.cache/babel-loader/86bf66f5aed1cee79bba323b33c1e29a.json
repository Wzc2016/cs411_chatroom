{"ast":null,"code":"import _classCallCheck from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/zecheng3/workspace/cs411/final_project/react-demo/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zecheng3/workspace/cs411/final_project/react-demo/src/components/Pokemon/Pokemon.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Input } from 'semantic-ui-react';\nimport axios from 'axios';\nimport PokemonView from './PokemonView/PokemonView';\nimport { Pokemon as PokemonCss, PokemonHeader } from './Pokemon.module.scss';\n\nvar Pokemon =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Pokemon, _Component);\n\n  function Pokemon() {\n    var _this;\n\n    _classCallCheck(this, Pokemon);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Pokemon).call(this));\n    _this.state = {\n      value: '',\n      pokemon: {},\n      reviewsList: '',\n      content: ''\n    };\n    _this.baseUrl = 'http://localhost:8000/reviews/';\n    _this.inputChangeHandler_movie = _this.inputChangeHandler_movie.bind(_assertThisInitialized(_this));\n    _this.inputChangeHandler_content = _this.inputChangeHandler_content.bind(_assertThisInitialized(_this));\n    _this.clickHandler = _this.clickHandler.bind(_assertThisInitialized(_this));\n    axios.get(_this.baseUrl).then(function (response) {\n      // console.log(response);\n      _this.setState({\n        pokemon: response.data,\n        reviewsList: response.data.map(function (review) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 33\n            },\n            __self: this\n          }, review.Movie, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35\n            },\n            __self: this\n          }), review.Content, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37\n            },\n            __self: this\n          }), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return _this.handleLike(review.ID, review.Num_likes);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }, review.Num_likes), React.createElement(\"button\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 41\n            },\n            __self: this\n          }, review.Num_dislikes));\n        })\n      });\n    });\n    return _this;\n  }\n\n  _createClass(Pokemon, [{\n    key: \"handleLike\",\n    value: function handleLike(Id, likes) {\n      var _this2 = this;\n\n      console.log(likes);\n      axios.put(this.baseUrl, {\n        Id: Id,\n        Num_likes: likes + 1\n      }).then(function (response) {\n        axios.get(_this2.baseUrl).then(function (response) {\n          // console.log(response);\n          _this2.setState({\n            pokemon: response.data,\n            reviewsList: response.data.map(function (review) {\n              return React.createElement(\"li\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 64\n                },\n                __self: this\n              }, review.Movie, React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 66\n                },\n                __self: this\n              }), review.Content, React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 68\n                },\n                __self: this\n              }), React.createElement(\"button\", {\n                onClick: function onClick() {\n                  return _this2.handleLike(review.ID, review.Num_likes);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 69\n                },\n                __self: this\n              }, review.Num_likes), React.createElement(\"button\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 72\n                },\n                __self: this\n              }, review.Num_dislikes));\n            })\n          });\n        });\n      });\n    }\n  }, {\n    key: \"clickHandler\",\n    value: function clickHandler() {\n      var _this3 = this;\n\n      // Form the URL\n      var url = this.baseUrl;\n      axios.post(url, {\n        Movie: this.state.value,\n        Content: this.state.content,\n        Num_likes: 0,\n        Num_dislikes: 0\n      }).then(function (response) {\n        axios.get(_this3.baseUrl).then(function (response) {\n          // console.log(response);\n          _this3.setState({\n            pokemon: response.data,\n            reviewsList: response.data.map(function (review) {\n              return React.createElement(\"li\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 100\n                },\n                __self: this\n              }, review.Movie, React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 102\n                },\n                __self: this\n              }), review.Content, React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 104\n                },\n                __self: this\n              }), React.createElement(\"button\", {\n                onClick: function onClick() {\n                  return _this3.handleLike(review.ID, review.Num_likes);\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 105\n                },\n                __self: this\n              }, review.Num_likes), React.createElement(\"button\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 108\n                },\n                __self: this\n              }, review.Num_dislikes));\n            })\n          });\n        });\n      });\n    }\n  }, {\n    key: \"inputChangeHandler_movie\",\n    value: function inputChangeHandler_movie(event) {\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"inputChangeHandler_content\",\n    value: function inputChangeHandler_content(event) {\n      this.setState({\n        content: event.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: PokemonCss,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, this.state.reviewsList, React.createElement(\"h1\", {\n        className: PokemonHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Let's GET us a Pokemon!\"), React.createElement(Input, {\n        onChange: this.inputChangeHandler_movie,\n        label: \"Movie\",\n        placeholder: \"The name of movie here!\",\n        value: this.state.value,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(Input, {\n        onChange: this.inputChangeHandler_content,\n        label: \"Content\",\n        placeholder: \"The content of review here!\",\n        value: this.state.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.clickHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"GET\"));\n    }\n  }]);\n\n  return Pokemon;\n}(Component);\n\nexport default Pokemon;","map":{"version":3,"sources":["/home/zecheng3/workspace/cs411/final_project/react-demo/src/components/Pokemon/Pokemon.jsx"],"names":["React","Component","Button","Input","axios","PokemonView","Pokemon","PokemonCss","PokemonHeader","state","value","pokemon","reviewsList","content","baseUrl","inputChangeHandler_movie","bind","inputChangeHandler_content","clickHandler","get","then","response","setState","data","map","review","Movie","Content","handleLike","ID","Num_likes","Num_dislikes","Id","likes","console","log","put","url","post","event","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Input } from 'semantic-ui-react'\nimport axios from 'axios'\n\nimport PokemonView from './PokemonView/PokemonView'\n\nimport { Pokemon as PokemonCss, PokemonHeader } from './Pokemon.module.scss'\n\nclass Pokemon extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      value: '',\n      pokemon: {},\n      reviewsList: '',\n      content: ''\n    };\n\n    this.baseUrl = 'http://localhost:8000/reviews/';\n\n    this.inputChangeHandler_movie = this.inputChangeHandler_movie.bind(this);\n    this.inputChangeHandler_content = this.inputChangeHandler_content.bind(this);\n    this.clickHandler = this.clickHandler.bind(this);\n    axios.get(this.baseUrl).then((response) => {\n      // console.log(response);\n\n      this.setState({\n        pokemon: response.data,\n        reviewsList: response.data.map((review) => {\n          return (\n            <li>\n              {review.Movie}\n              <br/>\n              {review.Content}\n              <br/>\n              <button onClick={()=> this.handleLike(review.ID, review.Num_likes)}>\n                {review.Num_likes}\n              </button>\n              <button>\n                {review.Num_dislikes}\n              </button>\n            </li>\n            )\n        })\n      });\n    });\n  }\n\n  handleLike(Id, likes) {\n    console.log(likes);\n    axios.put(this.baseUrl, {\n      Id: Id,\n      Num_likes: likes + 1\n    }).then((response) => {\n      axios.get(this.baseUrl).then((response) => {\n      // console.log(response);\n\n      this.setState({\n        pokemon: response.data,\n        reviewsList: response.data.map((review) => {\n          return (\n            <li>\n              {review.Movie}\n              <br/>\n              {review.Content}\n              <br/>\n              <button onClick={()=> this.handleLike(review.ID, review.Num_likes)}>\n                {review.Num_likes}\n              </button>\n              <button>\n                {review.Num_dislikes}\n              </button>\n            </li>\n            )\n        })\n      });\n    });\n    })\n  }\n\n\n  clickHandler() {\n    // Form the URL\n    let url = this.baseUrl;\n    axios.post(url, {\n      Movie: this.state.value,\n      Content: this.state.content,\n      Num_likes: 0,\n      Num_dislikes: 0\n    }).then((response) => {\n      axios.get(this.baseUrl).then((response) => {\n      // console.log(response);\n\n      this.setState({\n        pokemon: response.data,\n        reviewsList: response.data.map((review) => {\n          return (\n            <li>\n              {review.Movie}\n              <br/>\n              {review.Content}\n              <br/>\n              <button onClick={()=> this.handleLike(review.ID, review.Num_likes)}>\n                {review.Num_likes}\n              </button>\n              <button>\n                {review.Num_dislikes}\n              </button>\n            </li>\n            )\n        })\n      });\n    });\n    })\n    \n  }\n\n  inputChangeHandler_movie(event) {\n    this.setState({ value: event.target.value });\n  }\n\n  inputChangeHandler_content(event) {\n    this.setState({ content: event.target.value });\n  }\n\n  render() {\n\n    return (\n      <div className={PokemonCss}>\n      {this.state.reviewsList}\n        <h1 className={PokemonHeader}>Let's GET us a Pokemon!</h1>\n\n        <Input\n          onChange={this.inputChangeHandler_movie}\n          label='Movie'\n          placeholder='The name of movie here!'\n          value={this.state.value}\n        />\n        <Input\n          onChange={this.inputChangeHandler_content}\n          label='Content'\n          placeholder='The content of review here!'\n          value={this.state.content}\n        />\n        <Button onClick={this.clickHandler}>\n          GET\n        </Button>\n      </div>\n    )\n  }\n\n}\n\nexport default Pokemon\n"]},"metadata":{},"sourceType":"module"}
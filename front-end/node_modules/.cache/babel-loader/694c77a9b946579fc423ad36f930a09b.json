{"ast":null,"code":"import _classCallCheck from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Details/Details.jsx\";\nimport React, { Component } from 'react';\nimport { Form, FormInput, Button, Item, Image, Header, Grid, Input } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport styles from './Details.scss';\nimport NavBar from '../NavBar.jsx'; //import history from '../history.js';\n\nrequire('./Details.scss');\n\nvar Details =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Details, _Component);\n\n  function Details() {\n    var _this;\n\n    _classCallCheck(this, Details);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Details).call(this));\n    _this.state = {\n      reviews: [],\n      movie: {},\n      user: '',\n      value: ''\n    };\n    return _this;\n  }\n\n  _createClass(Details, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:8000/search/movieId/\" + this.props.match.params.movieId).then(function (response) {\n        //-----------TODO: change the id to this.props.match.params.movieId-----------\n        //-----------ADD AFTER THE POST FINISHED-----------\n        _this2.setState({\n          movie: response.data[0]\n        });\n\n        return axios.get(\"http://localhost:8000/reviews/0\");\n      }).then(function (response) {\n        // console.log(response.data);\n        _this2.setState({\n          reviews: response.data\n        }); //return axios.get(\"http://localhost:8000/reviews/\" + this.props.match.params.movieId)\n\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"searchHandler\",\n    value: function searchHandler(event) {\n      // console.log(\"state search\", event.target.value);\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleReviewPost\",\n    value: function handleReviewPost(event) {\n      // console.log(\"input: \", this.state.value);\n      var postreview = {\n        Content: this.state.value,\n        MovieId: this.props.match.params.movieId,\n        Num_likes: 0,\n        Num_dislikes: 0\n      };\n      axios.post(\"http://localhost:8000/reviews/\", postreview).then(function (response) {\n        console.log(response.data);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, this.state.movie['original_title']), React.createElement(\"img\", {\n        src: \"poster/dumbo.jpg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(Input, {\n        placeholder: \"New Review\",\n        fluid: true,\n        value: this.state.value,\n        onChange: this.searchHandler.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this3.handleReviewPost();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"CLICK ME TO ADD AN INPUT\"))), React.createElement(\"div\", {\n        className: \"lowerPanel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"render list here\"), React.createElement(MovieGridList, {\n        reviews: this.state.reviews,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Details;\n}(Component);\n\nexport default Details;\n\nfunction MovieGridList(props) {\n  // console.log(\"movie grid list\", props);\n  return React.createElement(\"ul\", {\n    className: \"popular-list-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, props.reviews.map(function (review) {\n    // console.log(review);\n    var reviewId = review.id; // var index = getIndex(url);\n    // moviePoster = <img className='picture-gallery' src={\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/\"+ index + \".png\"} onClick={()=>history.push(\"/detail/\"+index)}/>;\n\n    return React.createElement(\"div\", {\n      key: reviewId,\n      className: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"popular-item-list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, review.Content), React.createElement(Button.Group, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(Button, {\n      onClick: function onClick() {\n        console.log(\"like button clicked\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, review.Num_likes), React.createElement(Button, {\n      onClick: function onClick() {\n        console.log(\"dislike button clicked\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, review.Num_dislikes)))));\n  }));\n}","map":{"version":3,"sources":["/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Details/Details.jsx"],"names":["React","Component","Form","FormInput","Button","Item","Image","Header","Grid","Input","Link","axios","PropTypes","styles","NavBar","require","Details","state","reviews","movie","user","value","get","props","match","params","movieId","then","response","setState","data","catch","err","console","log","event","target","postreview","Content","MovieId","Num_likes","Num_dislikes","post","searchHandler","bind","handleReviewPost","MovieGridList","map","review","reviewId","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormInput,Button, Item, Image, Header, Grid, Input} from 'semantic-ui-react';\n\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\n\nimport styles from './Details.scss';\nimport NavBar from '../NavBar.jsx'\n\n//import history from '../history.js';\nrequire('./Details.scss');\nclass Details extends Component{\n  constructor(){\n    super();\n    this.state = {\n      reviews:[],\n      movie: {},\n      user: '',\n      value: ''\n    };\n\n  }\n\n  componentDidMount(){\n    axios.get(\"http://localhost:8000/search/movieId/\" + this.props.match.params.movieId)\n      .then((response) => {\n        //-----------TODO: change the id to this.props.match.params.movieId-----------\n        //-----------ADD AFTER THE POST FINISHED-----------\n        this.setState({movie: response.data[0]});\n        return axios.get(\"http://localhost:8000/reviews/0\");\n      })\n      .then((response) => {\n        // console.log(response.data);\n        this.setState({reviews: response.data});\n        //return axios.get(\"http://localhost:8000/reviews/\" + this.props.match.params.movieId)\n      }).catch((err) => {\n        console.log(err)\n      })\n\n  }\n  searchHandler(event) {\n\t\t// console.log(\"state search\", event.target.value);\n\t\tthis.setState({value: event.target.value});\n\n\t}\n\n  handleReviewPost(event){\n    // console.log(\"input: \", this.state.value);\n    var postreview = {Content: this.state.value, MovieId: this.props.match.params.movieId, Num_likes:0, Num_dislikes:0};\n    axios.post(\"http://localhost:8000/reviews/\",postreview)\n    .then((response) => {\n      console.log(response.data);\n    });\n  }\n\n  render(){\n\n    return(\n      <div>\n      <NavBar/>\n        <div class =\"row\">\n            <div class = \"column\">\n              <p>{this.state.movie['original_title']}</p>\n              <img src = \"poster/dumbo.jpg\"/>\n            </div>\n            <div class = \"column\">\n\n            <Input placeholder='New Review' fluid value={this.state.value} onChange={this.searchHandler.bind(this)}/>\n             <button onClick={ () => this.handleReviewPost()}>\n                 CLICK ME TO ADD AN INPUT\n             </button>\n\n            </div>\n        </div>\n        <div className=\"lowerPanel\">\n          <p>render list here</p>\n          <MovieGridList reviews={this.state.reviews}/>\n        </div>\n\n      </div>\n\n\n    );\n\n  }\n\n\n}\nexport default Details;\n\nfunction MovieGridList(props) {\n    // console.log(\"movie grid list\", props);\n\t\treturn(\n\t\t\t<ul className='popular-list-list'>\n\t\t\t\t{\n\t\t\t\t\t(props.reviews).map(function(review){\n            // console.log(review);\n\n\t\t        var reviewId = review.id;\n\t\t        // var index = getIndex(url);\n\n\t\t\t\t\t\t// moviePoster = <img className='picture-gallery' src={\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/\"+ index + \".png\"} onClick={()=>history.push(\"/detail/\"+index)}/>;\n\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t<div key={reviewId} className='card'>\n\t\t\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t\t\t<Grid.Column>\n                    <p className='popular-item-list'>\n                    \t{review.Content}\n                    </p>\n                    <Button.Group>\n                      <Button onClick={()=>{console.log(\"like button clicked\");}}>{review.Num_likes}</Button>\n                      <Button onClick={()=>{console.log(\"dislike button clicked\");}}>{review.Num_dislikes}</Button>\n                    </Button.Group>\n\t\t\t\t\t\t\t\t\t</Grid.Column>\n\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n        })\n\t\t\t\t}\n\t\t\t</ul>\n\t\t)\n\n}\n"]},"metadata":{},"sourceType":"module"}
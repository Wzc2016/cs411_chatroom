{"ast":null,"code":"import _classCallCheck from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Search/Search.jsx\";\nimport React, { Component } from 'react';\nimport { Button, Input, Card } from 'semantic-ui-react';\nimport axios from 'axios';\nimport NavBar from '../NavBar.jsx'; // import $ from 'jquery'\n// import 'child_process'\n\nimport './Search.scss';\nimport '../Movie/Movie.scss';\nimport { PythonShell } from 'python-shell';\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this));\n    _this.state = {\n      value: '',\n      movie: {},\n      content: '',\n      query: '',\n      queryList: []\n    };\n    _this.baseUrl = 'http://localhost:8000/search/movies/';\n    _this.inputChangeHandler_search = _this.inputChangeHandler_search.bind(_assertThisInitialized(_this));\n    _this.clickHandlerSearch = _this.clickHandlerSearch.bind(_assertThisInitialized(_this));\n    _this.imgClickHandler = _this.imgClickHandler.bind(_assertThisInitialized(_this)); // const spawn = require('child_process').spawn;\n    // const pyProg = spawn('python', ['./test.py']);\n\n    PythonShell.run('test.py', null, function (err, results) {\n      console.log(results);\n    });\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"inputChangeHandler_search\",\n    value: function inputChangeHandler_search(event) {\n      this.setState({\n        query: event.target.value\n      });\n    }\n  }, {\n    key: \"imgClickHandler\",\n    value: function imgClickHandler(value) {\n      this.props.history.push('/details/' + value);\n    }\n  }, {\n    key: \"clickHandlerSearch\",\n    value: function clickHandlerSearch(event) {\n      var _this2 = this;\n\n      if (this.state.query || this.state.queryList) {\n        axios.get(this.baseUrl + this.state.query).then(function (response) {\n          _this2.setState({\n            queryList: response.data.map(function (review) {\n              return React.createElement(\"div\", {\n                className: \"center-me medium-font\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 52\n                },\n                __self: this\n              }, React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 53\n                },\n                __self: this\n              }), React.createElement(\"img\", {\n                key: review.id,\n                onClick: function onClick() {\n                  return _this2.imgClickHandler(review.id);\n                },\n                src: \"https://res.cloudinary.com/dxit5qwki/image/upload/v1552335256/1.png\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 54\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 55\n                },\n                __self: this\n              }), React.createElement(Card, {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 56\n                },\n                __self: this\n              }, \"Movie: \", review.title), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 59\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 60\n                },\n                __self: this\n              }));\n            })\n          });\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"h-100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"MovieCss\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"Let's Search for a Movie!\"), React.createElement(Input, {\n        onChange: this.inputChangeHandler_search,\n        label: \"Movie\",\n        placeholder: \"The name of movie here!\",\n        value: this.state.query,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: this.clickHandlerSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"Search\"), React.createElement(\"div\", {\n        className: \"here\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, this.state.queryList)));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport default Search;","map":{"version":3,"sources":["/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Search/Search.jsx"],"names":["React","Component","Button","Input","Card","axios","NavBar","PythonShell","Search","state","value","movie","content","query","queryList","baseUrl","inputChangeHandler_search","bind","clickHandlerSearch","imgClickHandler","run","err","results","console","log","event","setState","target","props","history","push","get","then","response","data","map","review","id","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Button, Input, Card } from 'semantic-ui-react'\nimport axios from 'axios'\nimport NavBar from '../NavBar.jsx'\n// import $ from 'jquery'\n// import 'child_process'\nimport './Search.scss'\nimport '../Movie/Movie.scss'\nimport {PythonShell} from 'python-shell';\n\nclass Search extends Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      value: '',\n      movie: {},\n      content: '',\n      query: '',\n      queryList: []\n    };\n\n    this.baseUrl = 'http://localhost:8000/search/movies/';\n    this.inputChangeHandler_search = this.inputChangeHandler_search.bind(this);\n    this.clickHandlerSearch = this.clickHandlerSearch.bind(this);\n    this.imgClickHandler = this.imgClickHandler.bind(this);\n    \n    // const spawn = require('child_process').spawn;\n    // const pyProg = spawn('python', ['./test.py']);\n\n    PythonShell.run('test.py', null, function (err, results) {\n      console.log(results);\n    });\n  }\n\n  inputChangeHandler_search(event) {\n    this.setState({ query: event.target.value });\n  }\n\n  imgClickHandler(value) {\n    this.props.history.push('/details/' + value)\n  }\n\n\n  clickHandlerSearch(event) {\n    if(this.state.query || this.state.queryList) {\n      axios.get(this.baseUrl + this.state.query).then((response) => {\n      this.setState({\n        queryList: response.data.map((review, ) => {\n          return (\n            <div className=\"center-me medium-font\">\n              <br />\n              <img key={review.id} onClick={() => {return this.imgClickHandler(review.id)}} src=\"https://res.cloudinary.com/dxit5qwki/image/upload/v1552335256/1.png\"/>\n              <br/>\n                <Card>\n                  Movie: {review.title}\n                </Card>\n              <br/>\n              <br/>\n            </div>\n            )\n        })\n      });\n    })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"h-100\">\n        <NavBar />\n        <div className=\"MovieCss\">  \n          <h1 >Let's Search for a Movie!</h1>\n          <Input\n            onChange={this.inputChangeHandler_search}\n            label='Movie'\n            placeholder='The name of movie here!'\n            value={this.state.query}\n          />\n          <br/>\n          <br/>\n          {/*{window.sessionStorage.getItem('userId')}*/}\n          <Button onClick={this.clickHandlerSearch}>\n            Search\n          </Button>\n          <div className=\"here\">\n            {this.state.queryList}\n          </div>\n        </div>\n        \n      </div>\n      )\n  }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/zecheng3/workspace/cs411/cs411_project/front-end/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Details/Details.jsx\";\nimport React, { Component } from 'react';\nimport { Form, FormInput, Button, Item, Image, Header, Grid, Input } from 'semantic-ui-react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport styles from './Details.scss';\nimport NavBar from '../NavBar.jsx';\nimport './Details.scss';\nimport hp from './hp.jpg'; //import history from '../history.js';\n\nrequire('./Details.scss');\n\nvar Details =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Details, _Component);\n\n  function Details() {\n    var _this;\n\n    _classCallCheck(this, Details);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Details).call(this));\n    _this.state = {\n      reviews: [],\n      movie: {},\n      user: '',\n      value: '',\n      reviewList: []\n    };\n    _this.closeHandler = _this.closeHandler.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Details, [{\n    key: \"closeHandler\",\n    value: function closeHandler(id) {\n      var _this2 = this;\n\n      console.log(id);\n      axios.delete('http://localhost:8000/reviews/', {\n        params: {\n          Id: id.toString()\n        }\n      }).then(function () {\n        _this2.componentDidMount();\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      var mid = this.props.match.params.movieId;\n      axios.get(\"http://localhost:8000/search/movieId/\" + this.props.match.params.movieId).then(function (response) {\n        //-----------TODO: change the id to this.props.match.params.movieId-----------\n        //-----------ADD AFTER THE POST FINISHED-----------\n        _this3.setState({\n          movie: response.data[0]\n        });\n\n        return axios.get(\"http://localhost:8000/reviews/\" + mid);\n      }).then(function (response) {\n        // console.log(response.data);\n        _this3.setState({\n          reviews: response.data\n        });\n\n        _this3.setState({\n          reviewList: _this3.state.reviews.map(function (review) {\n            // console.log(review);\n            var reviewId = review.id; // var index = getIndex(url);\n            // moviePoster = <img className='picture-gallery' src={\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/\"+ index + \".png\"} onClick={()=>history.push(\"/detail/\"+index)}/>;\n\n            return React.createElement(\"div\", {\n              key: reviewId,\n              className: \"card\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 58\n              },\n              __self: this\n            }, React.createElement(Grid, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 59\n              },\n              __self: this\n            }, React.createElement(Button, {\n              onClick: function onClick() {\n                return _this3.closeHandler(review.Id);\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 60\n              },\n              __self: this\n            }, \"X\"), React.createElement(Grid.Column, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 63\n              },\n              __self: this\n            }, React.createElement(\"p\", {\n              className: \"popular-item-list\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 64\n              },\n              __self: this\n            }, review.Content))));\n          })\n        }); //return axios.get(\"http://localhost:8000/reviews/\" + this.props.match.params.movieId)\n\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"searchHandler\",\n    value: function searchHandler(event) {\n      // console.log(\"state search\", event.target.value);\n      this.setState({\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleReviewPost\",\n    value: function handleReviewPost(event) {\n      var _this4 = this;\n\n      // console.log(\"input: \", this.state.value);\n      if (this.state.value) {\n        var postreview = {\n          Content: this.state.value,\n          MovieId: this.props.match.params.movieId,\n          Num_likes: 0,\n          Num_dislikes: 0\n        };\n        axios.post(\"http://localhost:8000/reviews/\", postreview).then(function (response) {\n          // console.log(response.data);\n          _this4.componentDidMount();\n        });\n      }\n    }\n  }, {\n    key: \"handleMovieList\",\n    value: function handleMovieList(event) {\n      var info = {\n        movie_id: this.props.match.params.movieId,\n        uid: window.sessionStorage.getItem('userId')\n      };\n      var info2 = {};\n      axios.put('http://localhost:8000/users', info);\n      axios.get('http://localhost:8000/search/movieId/' + this.props.match.params.movieId).then(function (res) {\n        var array = JSON.parse(res.data[0].genres);\n        console.log(array);\n\n        for (var i = 0; i < array.length; i++) {\n          var genre = array[i];\n          var info2 = {\n            genre_id: genre.id.toString(),\n            uid: window.sessionStorage.getItem('userId')\n          }; // console.log(info2)\n\n          axios.put('http://localhost:8000/users/genre', info2);\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(NavBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"DetailCss\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, this.state.movie['original_title']), React.createElement(\"img\", {\n        src: \"https://picsum.photos/202/301\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        class: \"col-sm-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Input, {\n        placeholder: \"New Review\",\n        fluid: true,\n        value: this.state.value,\n        onChange: this.searchHandler.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.handleReviewPost();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"ADD A REVIEW HERE!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this5.handleMovieList();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"ADD THE MOVIE TO WISHLIST!\")))), React.createElement(\"div\", {\n        className: \"lowerPanel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"lower\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"rlh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, \"Reviews\")), this.state.reviewList)));\n    }\n  }]);\n\n  return Details;\n}(Component);\n\nexport default Details; // export class MovieGridList extends Component {\n//     // console.log(\"movie grid list\", props);\n//     constructor() {\n//       super();\n//     };\n//     render() {\n// \t\treturn(\n// \t\t\t<ul className='popular-list-list'>\n// \t\t\t\t{\n// \t\t\t\t}\n// \t\t\t</ul>\n// \t\t)\n//   }\n// }","map":{"version":3,"sources":["/home/zecheng3/workspace/cs411/cs411_project/front-end/src/components/Details/Details.jsx"],"names":["React","Component","Form","FormInput","Button","Item","Image","Header","Grid","Input","Link","axios","PropTypes","styles","NavBar","hp","require","Details","state","reviews","movie","user","value","reviewList","closeHandler","bind","id","console","log","delete","params","Id","toString","then","componentDidMount","mid","props","match","movieId","get","response","setState","data","map","review","reviewId","Content","catch","err","event","target","postreview","MovieId","Num_likes","Num_dislikes","post","info","movie_id","uid","window","sessionStorage","getItem","info2","put","res","array","JSON","parse","genres","i","length","genre","genre_id","searchHandler","handleReviewPost","handleMovieList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormInput,Button, Item, Image, Header, Grid, Input} from 'semantic-ui-react';\n\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\n\nimport styles from './Details.scss';\nimport NavBar from '../NavBar.jsx';\nimport './Details.scss'\n\nimport hp from './hp.jpg'\n//import history from '../history.js';\nrequire('./Details.scss');\nclass Details extends Component{\n  constructor(){\n    super();\n    this.state = {\n      reviews:[],\n      movie: {},\n      user: '',\n      value: '',\n      reviewList: []\n    };\n    this.closeHandler = this.closeHandler.bind(this);\n\n  }\n\n  closeHandler(id) {\n    console.log(id)\n        axios.delete('http://localhost:8000/reviews/', {params: {Id: id.toString()}}).then(() => {\n          this.componentDidMount();\n        })\n      };\n\n\n  componentDidMount(){\n    var mid = this.props.match.params.movieId;\n    axios.get(\"http://localhost:8000/search/movieId/\" + this.props.match.params.movieId)\n      .then((response) => {\n        //-----------TODO: change the id to this.props.match.params.movieId-----------\n        //-----------ADD AFTER THE POST FINISHED-----------\n        this.setState({movie: response.data[0]});\n        return axios.get(\"http://localhost:8000/reviews/\" + mid);\n      })\n      .then((response) => {\n        // console.log(response.data);\n        this.setState({reviews: response.data});\n\n        this.setState({reviewList: (this.state.reviews).map((review) => {\n            // console.log(review);\n\n            var reviewId = review.id;\n            // var index = getIndex(url);\n\n            // moviePoster = <img className='picture-gallery' src={\"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/\"+ index + \".png\"} onClick={()=>history.push(\"/detail/\"+index)}/>;\n            return(\n              <div key={reviewId} className='card'>\n                <Grid>\n                <Button onClick={() => this.closeHandler(review.Id) }>\n                  X\n                </Button>\n                  <Grid.Column>\n                    <p className='popular-item-list'>\n                      {review.Content}\n                    </p>\n\n                  </Grid.Column>\n\n                </Grid>\n              </div>\n          );\n        })});\n\n\n        //return axios.get(\"http://localhost:8000/reviews/\" + this.props.match.params.movieId)\n      }).catch((err) => {\n        console.log(err)\n      })\n\n  }\n  searchHandler(event) {\n\t\t// console.log(\"state search\", event.target.value);\n\t\tthis.setState({value: event.target.value});\n\t}\n\n  handleReviewPost(event){\n    // console.log(\"input: \", this.state.value);\n    if(this.state.value) {\n      var postreview = {Content: this.state.value, MovieId: this.props.match.params.movieId, Num_likes:0, Num_dislikes:0};\n      axios.post(\"http://localhost:8000/reviews/\",postreview)\n      .then((response) => {\n        // console.log(response.data);\n        this.componentDidMount();\n      });\n    }\n  }\n\n  handleMovieList(event) {\n    var info = {movie_id: this.props.match.params.movieId, uid: window.sessionStorage.getItem('userId')};\n    var info2 = {}\n    axios.put('http://localhost:8000/users', info);\n    axios.get('http://localhost:8000/search/movieId/' + this.props.match.params.movieId).then((res) => {\n      var array = JSON.parse(res.data[0].genres);\n      console.log(array);\n      for(let i = 0; i < array.length; i ++) {\n        var genre = array[i];\n        var info2 = {genre_id : genre.id.toString(), uid: window.sessionStorage.getItem('userId')};\n        // console.log(info2)\n        axios.put('http://localhost:8000/users/genre', info2);\n      }\n    })  \n  }\n\n  render(){\n\n    return(\n      <div>\n      <NavBar/>\n<div class=\"DetailCss\">\n        <div class =\"row\">\n\n            <div class = \"col-sm-4\">\n\n              <p>{this.state.movie['original_title']}</p>\n              <img src =\"https://picsum.photos/202/301\" alt={\"logo\"}/>\n              </div>\n            <div class = \"col-sm-4\">\n\n            <Input placeholder='New Review' fluid value={this.state.value} onChange={this.searchHandler.bind(this)}/>\n             <br/>\n             <button onClick={ () => this.handleReviewPost()}>\n                 ADD A REVIEW HERE!\n             </button>\n             <br/>\n             <br/>\n             <br/>\n             <button onClick={ () => this.handleMovieList()}>\n                 ADD THE MOVIE TO WISHLIST!\n             </button>\n\n            </div>\n        </div>\n</div>\n\n        <div className=\"lowerPanel\">\n          <div class=\"lower\">\n          <div class=\"rlh\">\n            <p>Reviews</p>\n          </div>\n\n\n\n          {this.state.reviewList}\n  </div>\n</div>\n      </div>\n\n\n    );\n\n  }\n\n\n}\nexport default Details;\n\n// export class MovieGridList extends Component {\n//     // console.log(\"movie grid list\", props);\n\n//     constructor() {\n//       super();\n      \n//     };\n\n    \n\n\n//     render() {\n// \t\treturn(\n// \t\t\t<ul className='popular-list-list'>\n// \t\t\t\t{\n\t\t\t\t\t\n// \t\t\t\t}\n// \t\t\t</ul>\n// \t\t)\n//   }\n\n// }\n\n\n"]},"metadata":{},"sourceType":"module"}